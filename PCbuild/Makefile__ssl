
ProjectDir = ..
externalsDir = $(ProjectDir)\externals

!include common_arch.mak

!IF "$(BUILD_TARGET_CPU)" == "x86"
INCLUDES = /I "$(externalsDir)\openssl-1.0.2k\include32" /I "$(ProjectDir)\Include" /I "$(ProjectDir)\PC" /I "$(ProjectDir)\Stackless"
!ELSE
INCLUDES = /I "$(externalsDir)\openssl-1.0.2k\include64" /I "$(ProjectDir)\Include" /I "$(ProjectDir)\PC" /I "$(ProjectDir)\Stackless"
!ENDIF
#INCLUDES = /I "$(externalsDir)\openssl-1.0.1l\inc32" /I "$(ProjectDir)\Include" /I "$(ProjectDir)\PC" /I "$(ProjectDir)\Stackless"
DEFINES = /D "Py_BUILD_CORE" /D "Py_ENABLE_SHARED" /D "WIN32" /D "Py_BUILD_CORE_MODULE" /D "NDEBUG"
CFLAGS = /O2 /Ob1 /Oi /GL $(INCLUDES) $(DEFINES) $(ARCH_DEFINES) /GF /FD /MT /Gy /W3 /nologo /Zi
LFLAGS = /NOLOGO /LTCG
TARGET = _ssl.lib


OBJS = $(ProjectDir)\Modules\_ssl.obj

all: $(ProjectDir)\PCbuild\ssleay.lib
#all: $(externalsDir)\openssl-1.0.1l\out32\ssleay32.lib

!include common.mak
